<section class="content-header">
	<h1>
		Reporte Huevo
	</h1>
	<ol class="breadcrumb">
		<li>
			<a href="{{ path('inicio') }}">
				<i class="glyphicon glyphicon-home"></i>Inicio</a>
		</li>
		<li>
			<a href="{{ path('reportes') }}">
				<i class="glyphicon glyphicon-alert"></i>Reportes</a>
		</li>
		<li>
			<a class="active">Huevo</a>
		</li>
	</ol>
</section>

<!-- Main content -->
<section class="content">

	{% for tipo in tipos_producto %}

		<div class="row">
			<div
				class="col-md-7">
				<!-- Reporte -->
				<div class="box">
					<div class="box-header with-border">
						<h2 class="header-title">{{ tipo.nombre }}</h2>
					</div>
					<div class="box-body">
						<div class="table-responsive">
							<table class="table table-striped table-bordered table-hover datatable">
								<thead>
									<tr>
										<th>Unidad</th>
										<th>Tipo Producto</th>
										<th>Producto</th>
										<th>Plan</th>
										<th>Real</th>
										<th>Diferencia</th>
									</tr>
								</thead>
								<tbody>
									{% for dato in reporte_datos %}
										{% if dato.tipo == tipo.nombre %}
											<tr>
												<td>{{ dato.unidad }}</td>
												<td>{{ dato.tipo }}</td>
												<td>{{ dato.producto }}</td>
												<td>{{ dato.plan }}</td>
												<td>{{ dato.real }}</td>
												<td>{{ dato.plan - dato.real }}</td>
											</tr>
										{% endif %}
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
					<!-- /.box-body -->
				</div>
				<!-- /.Reporte -->
			</div>
			<div
				class="col-md-5">
				<!-- Total -->
				<div class="box">
					<div class="box-header with-border">
						<h2 class="header-title">Totales</h2>
					</div>
					<div class="box-body">
						<div class="table-responsive">
							<div class="table-responsive">
								<table id="example1" class="table table-striped table-hover">
									<thead>
										<tr>
											<th>Unidad</th>
											<th>Tipo Producto</th>
											<th>Plan</th>
											<th>Real</th>
											<th>Diferencia</th>
											<th>Porciento</th>
										</tr>
									</thead>
									<tbody>
										{% for total in totales %}
											{% if total.tipo == tipo.nombre %}
												<tr>
													<td>{{ total.unidad }}</td>
													<td>{{ total.tipo }}</td>
													<td>{{ total.plan }}</td>
													<td>{{ total.real }}</td>
													<td>{{ total.plan - total.real }}</td>
													{% if total.plan == 0 %}
														<td>No hay plan</td>
													{% else %}
													<td>{{ (total.real * 100 / total.plan) |round(2,'common') }}%</td>
													{% endif %}		
												</tr>
											{% endif %}
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<!-- /.box-body -->
				</div>
				<!-- /.Total -->
			</div>
		</div>

	{% endfor %}
</section>
<!-- /.content -->
